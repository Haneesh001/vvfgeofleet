<h3>

</h3>

<div class="row h8 mt-0">
    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 p-1">
        <p-accordion>
            <p-accordionTab header="Mezzi Selezionati">
            <!--<div class="area-elenco-mezzi-da-seguire-sticky">-->
                <div class="col-xl-12 col-lg-4 col-md-4 col-sm-12 p-1">
                <!--<div class="area-elenco-mezzi-da-seguire-sticky">-->
                    <div class="area-elenco card card-inverse drag-column drop-column m-0"
                    data-toggle="tooltip" 
                    title="Fai un click sul 'ticket' di un Mezzo quando vuoi terminare l'inseguimento.">
                        <app-posizione-mezzo *ngFor="let r of mezziSelezionati" 
                            [istanteUltimoAggiornamento]="istanteUltimoAggiornamento"
                            [istanteModificaFiltri]="istanteModificaFiltri"
                            [posizioneMezzo]="r" 
                            [isSeguiMezzo]="true"
                            [onlySelected]="true"                            
                            (mezzoSelezionato)="centraSuMappa($event)"
                            (mezzoSelezionato)="evidenziaSuMappa($event)"
                            (mezzoDaSeguire)="seguiMezzo($event)"
                            pDroppable="seguiMezziSelezionati" pDraggable="seguiMezziSelezionati"
                            (onDragStart)="dragStart($event,r)" (onDragEnd)="dragEnd($event)"
                            (onDrop)="rimuoviSeguiMezzoDrop($event)"    
                        ></app-posizione-mezzo>
                    </div>            
                </div>      
            </p-accordionTab>                                    
            <p-accordionTab header="Posizioni piÃ¹ recenti" [selected]="true">

            <div  class="col-xl-12 col-lg-4 col-md-4 col-sm-12 p-1">            
                <!--<div class="area-elenco card card-inverse"-->
                <div class="area-elenco card card-inverse drag-column drop-column m-0"
                data-toggle="tooltip" 
                title="Fai un click sullo 'spillo' di un Mezzo dell'elenco se vuoi seguirne gli spostamenti.">
                    <app-posizione-mezzo *ngFor="let r of elencoPosizioni" 
                                [istanteUltimoAggiornamento]="istanteUltimoAggiornamento"
                                [istanteModificaFiltri]="istanteModificaFiltri"
                                [posizioneMezzo]="r" 
                                [isSeguiMezzo]="isSeguiMezzo(r)"
                                [onlySelected]="opzioni.getOnlySelected()"
                                (mezzoSelezionato)="centraSuMappa($event)"
                                (mezzoSelezionato)="evidenziaSuMappa($event)"
                                (mezzoDaSeguire)="seguiMezzo($event)"
                                pDroppable="elencoPosizioni" pDraggable="elencoPosizioni" 
                                (onDragStart)="dragStart($event,r)" (onDragEnd)="dragEnd($event)"                                
                                (onDrop)="seguiMezzoDrop($event)"                                
                    ></app-posizione-mezzo>
                </div>
            </div>                
            </p-accordionTab>
            <p-accordionTab header="Filtri">
                    <div>
                        <app-pannello-filtri>                            
                        </app-pannello-filtri>
                    </div>
            </p-accordionTab>
            <p-accordionTab header="Opzioni">
                <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <app-pannello-opzioni
                        (selezioneMezzi)="nuovaSelezioneMezzi($event)">
                    </app-pannello-opzioni>
                </div>
            </p-accordionTab>
        </p-accordion>
    </div>
    <div class="col-xl-8 col-lg-8 col-md-8 col-sm-12 p-1">    
        <app-mappa-posizioni-flotta            
            [mezzoSelezionato]="mezzoSelezionato"
            [onlySelected]="opzioni.onlySelected"            
        >
        </app-mappa-posizioni-flotta>        
        <!--
        <app-gmaps-posizioni-flotta
            [elencoPosizioni]="elencoPosizioni" 
            [elencoPosizioniDaElaborare]="elencoUltimePosizioni" 
            [elencoMezziDaSeguire]="seguiMezziSelezionati"
            [istanteUltimoAggiornamento]="istanteUltimoAggiornamento"
            [filtriStatiMezzo]="filtriStatiMezzo"
            [filtriSedi]="filtriSedi"            
            [filtriGeneriMezzo]="filtriGeneriMezzo"
            [filtriStatiMezzoCardinalita]="vociFiltroStatiMezzo.length"
            [filtriSediCardinalita]="vociFiltroSedi.length"
            [filtriGeneriMezzoCardinalita]="vociFiltroGeneriMezzo.length"
            [mapLat]="startLat"
            [mapLon]="startLon"
            [mapZoom]="startZoom"
            [mezzoSelezionato]="mezzoSelezionato"
            [reset]="reset"  
            [onlyMap]="onlyMap">    
        </app-gmaps-posizioni-flotta>
        -->
    </div>
</div>

